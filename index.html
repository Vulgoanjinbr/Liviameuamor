<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cartinha Rom√¢ntica üíå</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<style>
:root {
  --bg: #fde2e2;
  --front: #e89ca3;
  --back: #c97b83;
  --top: #d27c8e;
  --sticker-bg: #fff0f5;
  --sticker-border: #f2c1c8;
  --note-bg: #fff5f5;
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
  background-color: var(--bg);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:'Segoe UI', Tahoma, sans-serif;
  overflow:hidden;
  cursor:url("https://i.postimg.cc/GtLCdKxR/sisors.png"), pointer;
  transition: background-color 0.5s;
}

.heart {
  position:absolute;
  width:1rem;
  height:1rem;
  background:red;
  clip-path: polygon(50% 0%, 61% 12%, 75% 12%, 85% 25%, 85% 40%, 50% 100%, 15% 40%, 15% 25%, 25% 12%, 39% 12%);
  opacity:0.7;
  pointer-events:none;
}

.envelop { position:relative; width:22rem; height:15rem; z-index:10; }

.envelop__front-paper {
  position:absolute;width:100%;height:100%;bottom:0;left:0;border-radius:0.7rem;
  border:0.35rem solid var(--back);background-color:var(--front);
  clip-path: polygon(100% 0%,50% 70%,0% 0%,0% 100%,100% 100%);
  z-index:300; box-shadow:0 8px 15px rgba(0,0,0,0.2);
}

.envelop__back-paper {
  position:absolute;width:100%;height:100%;bottom:0;left:0;border-radius:0.7rem;
  background-color:var(--back);
  clip-path: polygon(0% 0%,100% 0%,90% 100%,0% 90%);
  z-index:100; box-shadow:0 8px 15px rgba(0,0,0,0.2);
}

.envelop__up-paper {
  position:relative;width:100%;height:100%;bottom:0;left:0;border-radius:0.7rem;
  background-color:var(--top); z-index:400; clip-path: polygon(0% 0%,100% 0%,50% 81%);
  cursor:default; box-shadow:0 8px 15px rgba(0,0,0,0.2);
}

.envelop__sticker {
  position:absolute;top:35%;left:0;right:0;margin:auto;width:100%;height:20%;
  background-color:var(--sticker-bg);border:0.3rem solid var(--sticker-border);
  background-image:url("https://www.freepnglogos.com/uploads/heart-png/emoji-heart-33.png");
  background-repeat:no-repeat;background-size:2rem;background-position:center;
  z-index:400;cursor:pointer;border-radius:0.5rem;
}

.envelop__content {
  position:absolute;width:100%;height:100%;bottom:0;left:0;z-index:200;
  display:flex;flex-direction:column;align-items:center;
}

.love-notes { width:100%;height:100%;display:flex;flex-direction:column;align-items:center;position:relative; }

.note {
  position:absolute;width:95%;height:30%;background-color:var(--note-bg);
  box-shadow:0 5px 15px rgba(0,0,0,0.2);overflow:hidden;
  transition:height 0.5s, transform 0.3s, box-shadow 0.3s, background 0.3s;
  border-radius:0.5rem; cursor:pointer;
}

.note:hover { transform: translateY(-5px); box-shadow:0 10px 20px rgba(0,0,0,0.25); background:#ffe0e6; }

.note:nth-child(1) { bottom:60%; }
.note:nth-child(2) { bottom:40%; }
.note:nth-child(3) { bottom:20%; }

.note__text { padding:1rem; text-align:center; font-size:1rem; color:#333; white-space:pre-wrap; }

.signature {
  position:absolute;bottom:5%;width:100%;text-align:center;font-size:1.3rem;color:#c94b6e;
  font-family:'Dancing Script', cursive; opacity:0;
}

.audio-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  z-index: 500;
  background: rgba(255, 255, 255, 0.8);
  padding: 10px;
  border-radius: 20px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.audio-btn {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #c94b6e;
  transition: transform 0.3s;
}

.audio-btn:hover {
  transform: scale(1.2);
}

@media(max-width:500px){
  .envelop { width:18rem; height:12rem; }
  .note__text { font-size:0.85rem; }
  .audio-controls { bottom: 10px; right: 10px; }
}
</style>
</head>
<body>
<div class="envelop">
  <div class="envelop__front-paper"></div>
  <div class="envelop__back-paper"></div>
  <div class="envelop__up-paper js-up-paper"></div>
  <div class="envelop__sticker js-sticker"></div>
  <div class="envelop__content js-envelop-content">
    <div class="love-notes">
      <div class="note js-note"><div class="note__text" data-text="Oii minha princesa ‚ù§Ô∏è Aqui estamos completando mais um m√™s juntos, √© sempre uma alegria acordar e saber que tenho voc√™ ao meu lado."></div></div>
      <div class="note js-note"><div class="note__text" data-text="Quero que esses momentos nunca acabem e que venham muitos outros pela frente, infelimente nosso primeiro m√™s de namoro n√£o foi aonde queriamos estar, mas sei que s√≥ de estar com vc ja estou feliz por estar comemorando."></div></div>
      <div class="note js-note"><div class="note__text" data-text="Voc√™ √© a melhor coisa que me aconteceu. Obrigado por me escolher todos os dias. Te amo muito! üíñ, eu sempre irei te amar e que venha sempre o melhor para nos dois,Com muito amor, Hugo para L√≠via ‚ù§Ô∏è"></div></div>
    </div>
    <div class="signature">Com muito amor, Hugo para L√≠via ‚ù§Ô∏è</div>
  </div>
</div>


<!-- √Åudio de fundo -->
<audio id="bg-music" loop>
  <source src="Sia - Snowman  Piano cover - PianoX (youtube).mp3" type="audio/mp3">
  Seu navegador n√£o suporta o elemento de √°udio.
</audio>

<!-- Som para as notas -->
<audio id="note-sound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-page-turn-single-1105.mp3" type="audio/mp3">
  Seu navegador n√£o suporta o elemento de √°udio.
</audio>

<script>
const notes=document.querySelectorAll(".js-note");
const sticker=document.querySelector(".js-sticker");
const upPaper=document.querySelector(".js-up-paper");
const signature=document.querySelector(".signature");
const bgMusic=document.getElementById("bg-music");
const noteSound=document.getElementById("note-sound");
const playBtn=document.getElementById("play-btn");
const pauseBtn=document.getElementById("pause-btn");
const body=document.body;

// Entrada envelope
gsap.from(".envelop",{y:-200,opacity:0,duration:1,ease:"bounce.out"});

// Fun√ß√£o de digita√ß√£o
function typeText(element,text){
  element.textContent="";
  let i=0;
  let interval=setInterval(()=>{
    element.textContent+=text[i];
    i++;
    if(i>=text.length) clearInterval(interval);
  },25);
}

// Reset notas
function resetNotes(){
  notes.forEach(note=>{
    note.classList.remove("active");
    gsap.to(note,{height:"30%",duration:0.3});
    note.querySelector(".note__text").textContent="";
  });
}

// Ao clicar nas notas
notes.forEach((note,i)=>{
  note.addEventListener("click",()=>{
    noteSound.currentTime = 0; // Reinicia o som
    noteSound.play();

    // Cora√ß√µes flutuantes
    for(let j=0;j<5;j++){
      const h=document.createElement("div");
      h.className="heart";
      h.style.left=(note.offsetLeft+Math.random()*note.offsetWidth)+"px";
      h.style.top=(note.offsetTop+Math.random()*note.offsetHeight)+"px";
      body.appendChild(h);
      gsap.to(h,{y:h.offsetTop-100,opacity:0,scale:1.5,duration:1, onComplete:()=>h.remove()});
    }

    if(note.classList.contains("active")){
      note.classList.remove("active");
      gsap.to(note,{height:"30%",duration:0.3});
      note.querySelector(".note__text").textContent="";
    } else {
      resetNotes();
      note.classList.add("active");
      gsap.to(note,{height:90+(i*15)+"%",duration:0.4, onComplete:()=>{
        typeText(note.querySelector(".note__text"),note.querySelector(".note__text").dataset.text);
        // Se √∫ltima nota, mostra assinatura animada
        if(i===notes.length-1){
          gsap.to(signature,{opacity:1,duration:2});
        }
      }});
    }
  });
});

// Abrir envelope
function openEnvelope(){
  gsap.to(upPaper,{bottom:"97%",rotation:180,duration:0.5,zIndex:200});
  body.style.cursor="auto";
  gsap.to(body,{backgroundColor:"#f8d0d8",duration:0.5});
}

// Sticker
sticker.addEventListener("click",()=>{
  gsap.to(sticker,{width:"20%",left:"-80%",duration:0.5});
  upPaper.addEventListener("click",openEnvelope);
  upPaper.classList.add("cursor");
  bgMusic.play();
  playBtn.style.display = "none";
  pauseBtn.style.display = "inline-block";
});

// Controles de √°udio
playBtn.addEventListener("click", () => {
  bgMusic.play();
  playBtn.style.display = "none";
  pauseBtn.style.display = "inline-block";
});

pauseBtn.addEventListener("click", () => {
  bgMusic.pause();
  pauseBtn.style.display = "none";
  playBtn.style.display = "inline-block";
});

// Tentar reproduzir automaticamente (pode n√£o funcionar em alguns navegadores)
document.addEventListener('click', function() {
  if (bgMusic.paused) {
    bgMusic.play().catch(e => console.log("Autoplay bloqueado:", e));
  }
}, { once: true });
</script>
</body>
</html>
